---
name: acomm-discord
description: >
  エージェントとしてお嬢様のDiscord DMにメッセージを送信する。
  `acomm --agent "<メッセージ>" --discord` を実行してDiscordへ直接通知する。
  使用場面: (1) 作業完了の報告、(2) 手動確認・検証の依頼（このときは作業を停止して待機する）、
  (3) マイルストーン達成の通知、(4) 重大なエラーや判断が必要な状況の報告。
  ntfy スキルよりも長文・リッチな内容の通知に向いている（最大1900文字）。
---

# acomm-discord Skill

## 概要

`acomm --agent` コマンドを使い、エージェント（ボット）としてお嬢様のDiscord DMに直接メッセージを送信する。
bridge やAIパイプラインを経由せず、Discord REST API へ直接 POST する。

**手動確認が必要な場合は、送信後に必ず作業を停止してお嬢様のご指示を待機すること。**
完了報告や情報共有のみの場合は、送信後に次の作業へ続行してよい。

## 前提条件

以下の環境変数が `~/.config/yuiclaw/.env` に設定されていること（yuiclaw 起動時に自動ロード済み）:

- `DISCORD_BOT_TOKEN` — Discord ボットトークン
- `DISCORD_NOTIFY_CHANNEL_ID` — 送信先チャンネルID（お嬢様とのDMチャンネル）

## コマンド

```bash
acomm --agent "<メッセージ>" --discord
```

## 制約事項

- **文字数制限**: Discord のメッセージ上限は2000文字。安全のため1900文字以内に収める。
- **濫用の禁止**: 細かな進捗報告には使用しない。マイルストーン完了・確認依頼・重大事項のみ。

## 使用例

```bash
# 作業完了の報告（続行可）
acomm --agent "データ分析が完了しました。結果をリポジトリにコミットしました ✨" --discord

# 手動確認の依頼（送信後に待機）
acomm --agent "ビルドエラーが発生し自動解消できません。設計方針のご確認をお願いします。" --discord

# マイルストーン達成（続行可）
acomm --agent "Phase 1 完了: テスト43件全通過、プッシュ済みです。" --discord
```
