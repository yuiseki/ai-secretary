# Chromium 派生ブラウザの実装アプローチ・アーキテクチャ調査報告書

調査日: 2026-02-24

## 1. 調査スコープ
本レポートは、`repos/_browser` に含まれる各プロジェクトおよび、主要な商用・新興ブラウザを対象に、Chromium のカスタマイズ手法、言語選定、および設計思想を調査したものである。

- **Brave (brave-core)**: 商用・多機能型
- **ungoogled-chromium**: プライバシー特化・ミニマル型
- **Thorium**: パフォーマンス最適化型
- **Vanadium**: セキュリティ硬化型
- **Vivaldi / Opera / Opera GX**: 高度な UI / ゲーミング特化
- **ChatGPT Atlas / Perplexity Comet / Genspark**: AI エージェント統合型
- **Servo**: 次世代エンジン（比較対象）

## 2. エグゼクティブサマリー
Chromium 派生ブラウザの開発は、単なる「フラグの変更」を超え、独自のコンポーネントを Rust 等で実装し C++ の深層に統合する高度なソフトウェアエンジニアリングの場となっている。

調査の結果、実装アプローチは以下の 5 つに大別される：
1. **パッチ・ベース**: 上流の変更に追随しやすい軽量な改変。
2. **コンポーネント・ベース (Layered)**: 独自機能を独立したディレクトリに集約し、フックを最小限に抑える高度な管理。
3. **Web-based UI Layer**: ブラウザ UI そのものを Web 技術 (React 等) で構築するアプローチ (Vivaldi)。
4. **AI エージェント統合 (OWL / Hybrid)**: AI による Web 操作を前提とした、ネイティブ UI と AI 推論の融合 (ChatGPT Atlas 等)。
5. **セキュリティ/パフォーマンス硬化**: 特化したビルドフラグや命令セットの最適化。

## 3. 実装アプローチの比較

### 3.1 統合モデル
| アプローチ | 代表例 | メリット | デメリット |
| :--- | :--- | :--- | :--- |
| **Patchset** | ungoogled-chromium | 透過性が高く、再利用しやすい | 競合が発生しやすく、大規模改変に不向き |
| **Component-driven** | Brave | 大規模な独自機能を追加可能 | 上流との統合維持（Rebase）コストが極めて高い |
| **Web UI Architecture** | Vivaldi | UI の柔軟性とカスタマイズ性が極めて高い | メモリ/CPU のオーバーヘッドが発生 |
| **AI Agentic Layer (OWL)** | ChatGPT Atlas | AI による高度な Web 操作の自動化 | 複雑なプロセス構造とリソース負荷 |
| **Build-tuning** | Thorium | ソース変更なしで性能向上 | 特定の CPU 世代への依存が発生 |
| **OS-integrated** | Vanadium | OS の保護機能を活用可能 | 汎用的な OS では利用困難 |

### 3.2 言語選定の傾向
- **C++**: Chromium 本体の改変、および UI コンポーネントの基本。
- **Rust**: 高速かつ安全な処理が求められる新機能（広告ブロック、並列エンジン）に採用。
- **TypeScript/React**: Vivaldi の UI レイヤや、Brave の設定画面（WebUI）に採用。
- **Swift / SwiftUI / AppKit**: ChatGPT Atlas 等の、AI との対話を重視したネイティブ UI に採用。
- **Python/Shell**: ビルドプロセスの自動化、パッチ適用のオーケストレーション。

## 4. 共通の技術的課題と解決策

### 4.1 上流（Upstream）への追随
Chromium は更新頻度が極めて高く、数週間で数千のコミットが発生する。
- **解決策**: Brave のように `brave-core` を独立させることで、パッチが当たる箇所を局所化し、競合解決を自動化するツールを自作している。

### 4.2 広告ブロックとプライバシー
従来の拡張機能によるブロックでは限界があるため、ブラウザ本体（Blink レイヤ）への統合が進んでいる。
- **解決策**: `adblock-rust` のような高性能エンジンを内蔵し、ネットワークスタックの深層でリクエストを遮断する。

### 4.3 AI エージェントとブラウザ操作
AI にブラウザを操作させるには、単なるピクセル情報ではなく、DOM 構造の理解が必要。
- **解決策**: ChatGPT Atlas のように、Chromium エンジンとは別に AI 用の DOM 観測基盤やエージェント実行用のサンドボックスを構築。

## 5. 結論
現代の Chromium 派生ブラウザは、単なるクローンではなく、**「Google が決定した仕様」に対するカウンター・アーキテクチャ**として、あるいは **「AI エージェントのための新世代 OS」** として進化している。特に Rust の積極的な採用や、ネイティブ UI への回帰といった動向は、今後の Web ブラウザのあり方に大きな影響を与えると考えられる。

詳細な各プロジェクトのレポートについては、`projects/` ディレクトリ配下を参照されたい。
